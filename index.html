<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VirtualToolPathSim</title>
    <meta name="description" content="Simulateur de parcours d'outil pour machines-outils CNC (G-code Fanuc) - Tournage X-Z" />
    <meta name="author" content="Jean-Marc Lienher" />
    <meta name="keywords" content="CNC, G-code, Fanuc, simulation, usinage, tournage, X-Z, machine-outil" />
    <link rel="icon" href="Assets/Img/Logo_VirtualToolPathSim(white).png" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header>
        <img src="Assets/Img/Logo_VirtualToolPathSim(white).png" alt="Logo VirtualToolPathSim" height="64" />
        <h3 style="margin:0">VirtualToolPathSim</h3>
        <div style="flex:1"></div>
        <button id="btn-load" class="btn">Charger .nc/.txt</button>
        <button id="btn-run" class="btn">Simuler</button>
    </header>
    <main>
        <section class="panel">
            <div class="row"><label>Taper ou collez votre code ISO (M/G-code) ici :</label></div>
            <textarea id="gcode" spellcheck="false"></textarea>

            <div class="row" style="margin-top:8px;gap:10px;flex-wrap:wrap">
                <label><input type="checkbox" id="chk-diam" /> X en diamètre (sinon rayon)</label>
                <label><input type="checkbox" id="chk-show-rapid" checked /> Afficher G00</label>
                <label><input type="checkbox" id="chk-anim" checked /> Animer</label>
            </div>

            <div class="controls">
                <button id="play" class="btn">▶ Play</button>
                <button id="pause" class="btn">⏸ Pause</button>
                <button id="step" class="btn">⏭ Step</button>
                <label class="stat">Vitesse: <input id="speed" type="range" min="0.1" max="5" step="0.1"
                        value="1" /></label>
            </div>

            <div style="margin-top:10px;display:grid;grid-template-columns:1fr 1fr;gap:8px">
                <div class="panel small"><b>Statistiques</b>
                    <div id="stat-lines" class="stat">Lignes: —</div>
                    <div id="stat-segs" class="stat">Segments: —</div>
                </div>
                <div class="panel small"><b>Coordonnées</b>
                    <div id="coord-x" class="stat">X: —</div>
                    <div id="coord-z" class="stat">Z: —</div>
                </div>
            </div>

        </section>

        <section id="stageWrap" class="panel">
            <svg id="stage" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid meet"
                aria-label="Aire de simulation tournage">
                <g id="grid"></g>
                <g id="paths"></g>
                <g id="toolLayer"></g>
            </svg>
        </section>
    </main>
    <script src="Utils/utils.js"></script>
    <script src="Utils/gCodeParser.js"></script>
    <script src="Utils/arcHelper.js"></script>
    <script src="Utils/renderer.js"></script>
    <script src="Utils/animation.js"></script>
    <script src="script.js"></script>
</body>

</html>